(()=>{"use strict";const e=(e,t)=>{e.classList.remove("load"),e.closest(".form-submit").classList.add("success");const s=document.querySelector("body"),o=document.querySelector(".shadow");e.closest(".form-submit").querySelector(".form__message span").textContent=t,setTimeout((()=>{e.closest(".form-submit").classList.remove("open"),s.classList.remove("lock-js"),o.classList.remove("active")}),1e3),setTimeout((()=>{e.closest(".form-submit").classList.remove("success"),e.reset()}),1500)};var t,s;t=function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)},(s=new Image).onload=s.onerror=function(){t(2==s.height)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",document.addEventListener("DOMContentLoaded",(function(){(function(){const e=document.querySelector(".burger__menu"),t=document.querySelector(".main__menu"),s=t.querySelectorAll(".nav__item a"),o=document.querySelector(".shadow"),c=document.querySelector("body");function r(s){e.classList.remove("active"),t.classList.remove("active"),o.classList.remove("active"),c.classList.remove("lock-js"),function(e){e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"center"})}(s)}e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active"),o.classList.toggle("active"),c.classList.toggle("lock-js")})),s.forEach((e=>{e.addEventListener("click",r)}))})(),function(){const e=document.querySelector(".form-submit"),t=document.querySelector(".form__close"),s=document.querySelector('a[data-target="feedback-popup"]'),o=document.querySelector("body"),c=document.querySelector(".shadow");function r(){e.classList.remove("open"),o.classList.remove("lock-js"),c.classList.remove("active")}s?.addEventListener("click",(function(){e.classList.add("open"),o.classList.add("lock-js"),c.classList.add("active")})),t?.addEventListener("click",r),e?.addEventListener("click",(function(t){t.target===e&&r()}))}();const t=document.querySelector("form");t.addEventListener("submit",(s=>{!function(t,s){t.preventDefault();let o=!0;s.querySelectorAll(".form__input").forEach((e=>{const t=(e=>{switch(!0){case""===e.value.trim():return!1;case"user-name"===e.id:return/^[а-яА-ЯёЁa-zA-Z]{3,8}$/.test(e.value.trim());case"user-email"===e.id:return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.trim());default:return!0}})(e),s=e.closest(".form__group");t?s.classList.remove("error"):(o=!1,s.classList.add("error"))})),o&&(t=>{const s=new FormData(t);t.classList.add("load"),fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:s}).then((e=>e.json())).then((s=>{e(t,"Your message successfully sent")})).catch((s=>{e(t,s)}))})(s)}(s,t)}))}))})();