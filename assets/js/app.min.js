(()=>{"use strict";const e=(e,t,o)=>{e.classList.remove("load"),e.parentNode.parentNode.parentNode.classList.add("success");const s=document.querySelector("body"),n=e.parentNode.parentNode.parentNode.querySelector(".form__message span");n.textContent=t,setTimeout((()=>{e.parentNode.parentNode.parentNode.classList.remove("open"),s.classList.remove("lock-js")}),1e3),setTimeout((()=>{e.parentNode.parentNode.parentNode.classList.remove("success"),n.textContent=""}),1500),o.forEach((e=>{e.value=""}))};var t,o;t=function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)},(o=new Image).onload=o.onerror=function(){t(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",document.addEventListener("DOMContentLoaded",(function(){(function(){const e=document.querySelector(".burger__menu"),t=document.querySelector(".main__menu"),o=t.querySelectorAll(".nav__item a"),s=document.querySelector("body");e.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("active"),s.classList.toggle("lock-js")})),o.forEach((o=>{o.addEventListener("click",(o=>{e.classList.remove("active"),t.classList.remove("active"),s.classList.remove("lock-js"),function(e){e.preventDefault();const t=e.target.getAttribute("href"),o=document.querySelector(t).offsetTop,s=window.pageYOffset,n=o-s;let c=null;requestAnimationFrame((function e(t){null===c&&(c=t);const o=t-c,r=(a=o,l=s,i=n,(a/=500)<1?i/2*a*a+l:-i/2*(--a*(a-2)-1)+l);var a,l,i;window.scrollTo(0,r),o<1e3&&requestAnimationFrame(e)}))}(o)}))}))})(),function(){const e=document.querySelector(".form__shadow"),t=document.querySelector(".form__close"),o=document.querySelector('a.btn.btn__primary[href="#popup"]'),s=document.querySelector("body");function n(){e.classList.remove("open"),s.classList.remove("lock-js")}o.addEventListener("click",(function(){e.classList.add("open"),s.classList.add("lock-js")})),t.addEventListener("click",n),e.addEventListener("click",(function(t){t.target===e&&n()}))}();const t=document.querySelector("form");t.addEventListener("submit",(o=>{!function(t,o){t.preventDefault();let s=!0;const n=o.querySelectorAll(".form__input");if(n.forEach((e=>{const t=(e=>""!==e.value.trim()&&("user-name"===e.id?/^[а-яА-ЯёЁa-zA-Z]{3,8}$/.test(e.value.trim()):"user-email"!==e.id||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.trim())))(e),o=e.closest(".form__group");t?o.classList.remove("error"):(s=!1,o.classList.add("error"))})),s){const t=new FormData(o);o.classList.add("load"),fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:t}).then((e=>e.json())).then((t=>{e(o,"Your message successfully sent",n)})).catch((t=>{e(o,t,n)}))}}(o,t)}))}))})();