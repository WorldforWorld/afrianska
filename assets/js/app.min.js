(()=>{"use strict";function e(){const e=document.querySelector("header");window.pageYOffset>100?e.classList.add("scroll"):e.classList.remove("scroll")}const t=(e,t,o)=>{e.classList.remove("load"),e.parentNode.parentNode.parentNode.classList.add("success");const s=e.parentNode.parentNode.parentNode.querySelector(".form__message span");s.textContent=t,setTimeout((()=>{e.parentNode.parentNode.parentNode.classList.remove("open")}),1e3),setTimeout((()=>{e.parentNode.parentNode.parentNode.classList.remove("success"),s.textContent=""}),1500),o.forEach((e=>{e.value=""}))};var o,s;o=function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)},(s=new Image).onload=s.onerror=function(){o(2==s.height)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",document.addEventListener("DOMContentLoaded",(function(){e(),window.addEventListener("scroll",e),function(){const e=document.querySelector(".burger__menu"),t=document.querySelector(".main__menu"),o=t.querySelectorAll(".nav__item a"),s=document.querySelector("body");e.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("active"),s.classList.toggle("lock-js")})),o.forEach((o=>{o.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("active"),s.classList.toggle("lock-js")}))}))}(),function(){const e=document.querySelector(".form__shadow"),t=document.querySelector(".form__close");function o(){e.classList.remove("open")}document.querySelector('a.btn.btn__primary[href="#popup"]').addEventListener("click",(function(){e.classList.add("open")})),t.addEventListener("click",o),e.addEventListener("click",(function(t){t.target===e&&o()}))}();const o=document.querySelector("form");o.addEventListener("submit",(e=>{!function(e,o){e.preventDefault();let s=!0;const n=o.querySelectorAll(".form__input");if(n.forEach((e=>{const t=(e=>""!==e.value.trim()&&("user-name"===e.id?/^[а-яА-ЯёЁa-zA-Z]{3,8}$/.test(e.value.trim()):"user-email"!==e.id||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.trim())))(e),o=e.closest(".form__group");t?o.classList.remove("error"):(s=!1,o.classList.add("error"))})),s){const e=new FormData(o);o.classList.add("load"),fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:e}).then((e=>e.json())).then((e=>{t(o,"Your message successfully sent",n)})).catch((e=>{t(o,e,n)}))}}(e,o)}))}))})();